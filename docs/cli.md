# Command Line Interface

## Running Experiments

here is the general command used to launch experiments: 

`experimaestro run-experiment --run-mode NORMAL --workspace workspace-id some_xp_params.yaml`

Use `experimaestro jobs --help` for more details.

Let's detail some important parts:

### Run modes

`experimaestro run-experiment --run-mode [DRY_RUN|NORMAL|GENERATE_ONLY] `

Several run modes are possible:
- `DRY_RUN` will not launch any Task, but display task hashes and dependencies
- `GENERATE_ONLY` will generate jobs folder without [launching](./launchers/index.md) tasks.
- `NORMAL` will both generate and launch the jobs, effectively running the experiment.

Use `experimaestro run-experiment --help` for more details.

## Job Control

Besides the web interface, it is possible to use the command line to check the job
status and control jobs:

- `experimaestro jobs list` list jobs
- `experimaestro jobs clean` cleans jobs 
- `experimaestro jobs kill` allows to kill running jobs
- `experimaestro jobs log` show the stdout/stderr of a given job
- `experimaestro jobs path` returns the full path for a given job



## Filters 
Printed jobs can be filtered in several ways, for instance:

- Print only running jobs of given experiment:
```bash
experimaestro jobs list --filter '@state="RUNNING"' --tags --experiment EXPERIMENT_ID
```

- Clean all jobs that failed
```bash
experimaestro jobs clean --filter '@state="ERROR"' --tags
```
> (use `--perform` to really perform the cleaning after verification)

## Tags 
Using the `--tags` flag, lists all running jobs and show tagged arguments.

```bash
experimaestro jobs list --tags
```

## Cleaning up

Check for tasks that are not part of any experimental plan in the given
experimental folder.

```
Usage: experimaestro orphans [OPTIONS] PATH

Options:
  --size      Show size of each folder
  --clean     Prune the orphan folders
  --show-all  Show even not orphans
```

## Difference between two configurations

It is possible to look at the differences (that explain that two tasks have a different identifier) by using the `parameters-difference` command

## (Sphinx) Checking undocumented configurations

Use `experimaestro check-documentation objects.inv my_package` to check for undocumented members. The `objects.inv` file should be generated by sphinx
